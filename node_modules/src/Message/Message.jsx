// Message.jsx

import React, { useState, useEffect } from 'react';
import axios from 'axios';

const Message = ({ creds, chat, lastMessage, message, nextMessage }) => {
    console.log("Entered Message Function in Message.JSX")
    const [translatedText, setTranslatedText] = useState('');

    useEffect(() => {
        const translateText = async (text) => {
        try {
            const response = await axios.post('/englishToSpanish', {
            englishText: text,
            });
            
            console.log("Untranslated Text: ", text);
            console.log("Translated Text: ", response.data.translatedText);

            setTranslatedText(response.data.translatedText);
        } catch (error) {
            console.error('Translation error:', error);
        }
        };

        console.log("Entered Message component. Here are last message, current message, and next message:", lastMessage, message, nextMessage);
        
        // Assuming message.text is the property containing the message text
        translateText(message.text);

    }, [lastMessage, message, nextMessage]);

    return (
        <div>
        {/* Your custom rendering logic with the translated text */}
        <CustomMessageBubble text={translatedText} />
        </div>
    );
};

export default Message;
